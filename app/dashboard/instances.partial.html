<div class="panel panel-default">
	<div class="panel-heading">
    	<h3 class="panel-title">Workers</h3>
	</div>
	<div class="panel-body">
		<div ng-messages="errors" role="alert">
			<div ng-message="ConfigError" class="alert alert-danger">Configuration error: {{errors.ConfigError}}. <a href aws-configure><strong>Edit configuration</strong></a></div>
			<div ng-message="CredentialsError" class="alert alert-danger">Configuration error: {{errors.CredentialsError}}. <a href aws-configure><strong>Edit configuration</strong></a></div>
			<div ng-message="OtherError" class="alert alert-danger">Error: {{errors.OtherError}}</div>
		</div>
		<div class="table-responsive">
			<table class="table">
				<thead>
					<tr>
						<th>Queue</th>
						<th>Spot ID</th>
						<th>Spot Price</th>
						<th>Instance ID</th>
						<th>Spot Status</th>
						<th>Instance Status</th>
						<th>Instance IP</th>
						<th>Type</th>
						<th>Uptime</th>
						<th>Tasks Completed</th>
						<th>Time/Task</th>
						<th>Cost/Task</th>
						<th>CPU Load</th>
						<th>Destination Bucket</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="instance in instances.table | orderBy : statusMapper">
						<td>{{instance.queueUrl | queueToName}}</td>
						<td>{{instance.spotId}}</td>
						<td>{{instance.spotPrice | currency}}</td>
						<td>{{instance.instanceId}}</td>
						<td>{{instance.spotStatus}}</td>
						<td>{{instance.instanceStatus}}</td>
						<td>{{instance.instanceIp}}</td>
						<td>{{instance.instanceType}}</td>
						<td>{{instance.uptime | secondsToDateTime}}</td>
						<td>{{instance.tasksCompleted | number:3}}</td>
						<td>{{(instance.uptime / instance.tasksCompleted) | secondsToDateTime}}</td>
						<td>{{instance.uptime / instance.tasksCompleted / 3600 * instance.spotPrice | currency:"$":4}}</td>
						<td>{{instance.cpuLoad}}</td>
						<td>{{instance.destinationBucket}}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
</div>