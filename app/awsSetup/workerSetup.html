<div class="panel panel-default">
	<div class="panel-heading">
		<h3 class="panel-title">Add Workers</h3>
	</div>
	<div class="panel-body">
		<form>
			<div class="form-group">
				<label for="amiSelect">AMI</label>
				<select class="form-control" name="amiSelect" id="amiSelect" ng-model="amiSelect">
					<option ng-repeat="ami in amis" value="{{ami.name}}">{{ami.name}}</option>
				</select>
			</div>
			
			<div class="form-group">
				<label>
					Instance Type 
				</label>
				<label class="radio-inline">
					<input type="radio" ng-model="instanceType" value="spot" /> Spot
				</label>
				<label class="radio-inline">
					<input type="radio" ng-model="instanceType" value="onDemand" /> On Demand
				</label>
			</div>
			
			<div uib-collapse="instanceType != 'spot'">
				<div class="form-group">
					<label for="spotPrice">Spot Price</label>
					<input type="text" class="form-control" id="spotPrice" ng-model="spotPrice" />
				</div>
			</div>
			
			<div class="form-inline">
				<div class="col-sm-4 form-group">
					<label for="instanceType">Instance Size</label>
					<select class="form-control" id="instanceSize" ng-model="instanceSize">
						<option ng-repeat="instance in instances" value="{{instance}}">{{instance}}</option>
					</select>
				</div>
				
				<div class="col-sm-4 form-group">
					<label for="numInstances">Instance Count</label>
					<input type="text" class="form-control" id="numInstances" ng-model="numInstances" />
				</div>
				
				<div class="col-sm-4 form-group">
					<label for="sshKey">SSH Key</label>
					<select class="form-control" id="sshKey" ng-model="sshKey">
						<option ng-repeat="key in keys" value="{{key}}">{{key}}</option>
					</select>
				</div>
			</div>
			
			<hr>
			
			<div class="form-group">
				<label for="startupScript">Startup Script</label>
				<textarea class="form-control" id="startupScript" rows="5" readonly>{{generateScript()}}</textarea>
			</div>
			
			<button type="submit" ng-click="requestInstances()" class="btn btn-primary">Request Instances</button>
			<uib-alert ng-repeat="status in statuses" type="{{status.type}}" close="">{{status.text}}</uib-alert>
		</form>
	</div>
</div>
